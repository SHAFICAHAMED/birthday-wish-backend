name: Send Daily Wish

on:
  schedule:
    - cron: '*30 18 * * *'  # Every minute (for testing)
  workflow_dispatch:     # Manual trigger option

jobs:
  sendWish:
    runs-on: ubuntu-latest

    steps:
      - name: Wake up Render
        run: |
          echo "ðŸŒ… Waking up backend..."
          curl -s https://birthday-wish-backend.onrender.com/

      - name: Call Wish API
        run: |
          echo "ðŸ“¡ Sending POST to Render backend..."
          curl -v --retry 5 --retry-delay 10 --retry-all-errors -X POST https://birthday-wish-backend.onrender.com/api/sendWish
